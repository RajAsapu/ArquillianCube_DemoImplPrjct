aqpriceui:
  image: ui:${UI_BUILD}
  publishAllPorts: true
  attachStdin: true
  attachSterr: true
  dns: [localhost]
  ports: ["4200:80"]
aqpricedatamock:
  image: datamock:latest
  exposedPorts: [5555/tcp]
  publishAllPorts: true
  attachStdin: true
  attachSterr: true
  dns: [localhost]
  environment: [server.port=5555]
  ports: ["5555:5555"]
aqpriceengine:
  image: engine:latest
  publishAllPorts: true
  attachStdin: true
  attachSterr: true
  dns: [localhost]
  environment: [server.port=6666]
  ports: ["8081:6666"]
aqpricedb:
  image: db2.0:latest
  publishAllPorts: true
  attachStdin: true
  attachSterr: true
  dependsOn: aqpriceui,aqpricedatamock,aqpriceengine
  dns: [localhost]
  ports: ["9042:9042","8943:8943"]
aqpriceservice:
  image: service:latest
  publishAllPorts: true
  attachStdin: true
  attachSterr: true
  dependsOn: aqpricedb,aqpriceui,aqpricedatamock,aqpriceengine
  dns: [localhost]
  links:
      - aqpricedb:db
  environment: [cassandra.contactpoints=db]
  ports: ["8080:8080"]
  manual: true
  restartPolicy:
      name: failure
      maximumRetryCount: 5
