ui:
  image: 'ui:latest'
  containerName: "pricing_ui"
  publishAllPorts: true
  attachStdin: true
  attachSterr: true
  dnsSearch: [127.0.0.1]
  portBindings: [4200->80/tcp]
datamock:
  image: 'datamock:latest'
  containerName: "pricing_datamock"
  attachStdin: true
  attachSterr: true
  networkMode: host
  privileged: true
  dnsSearch: [127.0.0.1]
  env:
    - server.port=5555
    - "spring.datasource.url=jdbc:oracle:thin:@devdb.wfs.com:1535:dev"
    - spring.datasource.driverClassName=oracle.jdbc.OracleDriver
    - spring.datasource.username=apps
    - spring.datasource.password=apps
  portBindings: [5555->5555/tcp]
engine:
  image: 'engine:latest'
  containerName: "pricing_engine"
  publishAllPorts: true
  attachStdin: true
  attachSterr: true
  dnsSearch: [127.0.0.1]
  env: [server.port=6666]
  portBindings: [8081->6666/tcp]
database:
  image: 'db2.0:latest'
  containerName: "pricing_db"
  publishAllPorts: true
  attachStdin: true
  attachSterr: true
  dnsSearch: [127.0.0.1]
  portBindings: [9042->9042/tcp,8943->8943/tcp]
service:
  image: 'service:latest'
  containerName: "pricing_service"
  publishAllPorts: true
  attachStdin: true
  attachSterr: true
  dependsOn: [pricing_db]
  dnsSearch: [127.0.0.1]
  links:
      - aqpricedb:db
  env: [cassandra.contactpoints=db]
  portBindings: [8080->8080/tcp]
  manual: true
  restartPolicy:
      name: failure
      maximumRetryCount: 5
